\begin{algorithm}[b!]
\caption{Algorithm for recovering $\beta$-quantile matrix $\M$ from 
noisy ratings $\A$.}
\label{alg:recover-M}
\begin{algorithmic}[1]
\State Parameters: reliable fraction $\alpha$, quantile $\beta$, tolerance $\epsilon$
\State Input: matrix $\A$ of noisy ratings
\State Let $\M$ be the solution of the optimization problem \eqref{eq:optimization-noisy}:
  \begin{align}
  \label{eq:optimization-noisy}
  \text{maximize } &\langle \A, M \rangle, \\
  \notag \text{ subject to } &0 \leq M_{ij} \leq 1 \,\,\, \forall i,j, \\
  \notag                     &\sum_{j} M_{ij} \leq \beta m \,\,\, \forall j, \\
%    &&\hskip-0.4in\sum_j M_{ij} \leq 1 \,\,\, \forall i, \\
%  \notag  &\max_j M_{ij} \leq \frac{1}{\beta m}\sum_j M_{ij} \,\,\, \forall i, 
%    &&\hskip-0.4in
  \notag                    &\|M\|_* \leq \frac{2}{\alpha\epsilon}\sqrt{\alpha\beta nm}, \phantom{xxxxxxx}
  \end{align}
  where $\|\cdot\|_*$ denotes nuclear norm.
\State Output $\M$.
\end{algorithmic}
\end{algorithm}
